# 2020.05.21 TIL

공개키 기반구조(PKI - Public Key Infrastructure)  

공개키 전자 서명 인증 기술을 활용하여 기업, 산업 또는 국가내의 정보를 안전하게 교환하는 인프라를 구축하기 위한 정책 및 기술을 통틀어서 말함  
암호화 방법, 콩개키 인증서 사용 및 인증기관(CA), 프로세스를 관리하기 위한 시스템  

공개키를 이용한 정보보호를 수행하기 위해서 인증기관을 통한 사용자 인증서 발급  
공개키의 소유자가 합법적인 사용자임을 인증하며 그에 해당하는 개인키를 가지고 있음을 증명함(무결성)  
인증기관(CA)은 자신의 서명키로 서명자의 공인인증서를 전자 서명함  
사용자 읹으서의 무결성 및 진정성을 보장함  
전자거래의 안전한 정보교환을 가능하게 하는 종합적인 공개키 관리시스템  

공인인증서  
사용자의 공개키와 사용자의 ID를 결합하여 신뢰성 있는 제3ㅈ자인 인증기관(CA)이 서명한 전자문서  

운영체제와 계정관리  

시스템(System)  
필요한 기능을 실현하기 위하여 관련 요소를 어떤 법칙에 따라 조합한 집합체  
정보를 처리하는 데 이용되는 프로그램들, 절차들, 데이터 및 기기들의 다양한 집합이나 조합  

시스템 보안  
사용 허가권이 없는 사용자가 파일, 라이브러리 폴더 및 장치 등을 사용하지 못하도록 제한하여 보호하는 시스템 기능  

보안 요소  
계정관리, 세션관리, 접근통제, 권한관리, 로그, 취약점 관리  

운영체제  
컴퓨터 사용자와 컴퓨터 하드웨어 사이에서 중간자의 역할을 하는 프로그램  
메모리, 파일, 입출력장치, 프로세서 등과 같은 모든 시스템 자원을 관리함  
다양한 응용 프로그램의 운영을 위하여 이들이 요구하는 자원의 가용성을 최적화 시킴  
컴퓨터 시스템 보안의 기본적인 제공자임  
다양한 프로그램 개념을 지원하고 다중 프로그래밍과 자원의 공유를 허용함  
프로그램 행위에 대한 제약을 규정하고 다수 사용자에 의한 시스템의 동시 사용을 지원함  

운영체제 보안  
우연한 또는 의도적인 방해로 부터 사용자의 정보처리를 보호할 수 있는 방법  

운영체제 보안의 기능  
사용자인증, 파일보호, 메모리보호, 접근통제  

보호대상객체  
- 메모리  
- 공유 및 재사용이 가능한 I/O 장치  
- 공유 가능한 프로그램 및 서브 프로그램  
- 공유데이터  

운영체제 보안을 위한 분리  
물리적 분리 : 서로 다른 보안 수준을 요구하는 프로세스별로 분리된 물리적 객체를 사용함  
시간적 분리 : 서로 다른 보안 요구사항을 갖는 프로세스들은 서로 다른 시간에 운영됨  
논리적 분리 : 운영체제는 프로그램의 접근을 제한하여 허용된 영역 밖의 객체에 대해서는 접근할 수 없도록 함  
암호적 분리 : 다른 프로세스가 인식할 수 없는 방법으로 자신의 데이터와 계산을 감춤  

보안운영체제 (Secure Operating System)  
운영체제의 내재적인 보안상의 결함으로 인한 각종 침해로 부터 시스템을 보호하기 위해 사용함  
기존의 운영체제 내에 보안 기능을 통합시킨 보안 커널을 추가적으로 이식한 운영 체제임  

계정(Account)  
각종 PC통신 서비스 또는 네ㅡ워크에서 각 사용자를 구별하는 단위  
특정 컴퓨터나 네트워크를 이용하기 위한 권리를 의미하며 PC통신에서는 사용자 ID라는 명칭으로 사용됨  
계정의 기본 구성요소는 ID와 패스워드  
하나의 계정은 식별과 인증으로 접근을 허용 받음  

운영체제의 계정 확인  
계정 생성과 삭제 시 적절한 승인 절차가 마련되어 있어야 함  
불필요한 계정이 존재하는 지와 불필요하게 관리자 권한 등이 부여되어 있지 않은지를 주기적으로 확인해야 함  

유닉스 계정관리  
기본 관리자 계정으로 root가 존재함  
유닉스 계정 목록 확인 : /etc/passwd 파일  
관리자 계정과 일반 사용자 계정 확인  

Unix의 /etc/passwd 파일의 구성  
Root : x : 0 : 0 : Root : /Root : /bin/bash  
Root : 사용자 계정  
x : 패스워드가 암호화 되어 Shadow 파일이 저장되어 있음을 나타냄  
0 : 사용자 번호  
0 : 그룹 번호  
Root : 실제이름 : 시스템 설정에 영향이 없는것 자신의 이름을 입력해도 됨  
bin : 사용자의 홈디렉토리 설정  
bash : 사용자의 셸 정의 기본설정 : bash 셸, 사용하는 셸을 이곳에 정의  
관리자 권한은 사용자와 그룹번호로 식별하며 관리자는 사용자 번호가 0, 그룹번호도 0임  
root 이외에 사용자 번호가 0번인 계정이 존재하면, 그 계정도 관리자 권한을 가짐  

윈도우 계정 관리  

Administrator  
운영체제에 대한 관리자 권한을 가진 계정  
시스템에 가장 기본적으로 설치되는 계정  

윈도우 관리자 계정 확인  
net localgroup administrators 명령  

윈도우 일반 사용자 계정 확인  
net user 명령  

데이터베이스의 계정 고나리  
MS-SQL에서는 윈도우의 관리자 계정으로 데이터베이스에 로그인 할수 있지만 오라클 에서는 할 수 없음  
운영체제와 데이터베이스 계정이 완전히 분리되어 있지 않은 경우 데이터베이스 계정 이외에 운영체제의 계정을 잘 확인 해야 함  

MS-SQL에서 관리자 계정 : sa(system administrator)  

오라클에서 관리자 계정은 sys,system으로 둘다 관리자 계정임   
system은 sys와 달리 데이터베이스를 생성할 수 없음  

오라클은 Scott이라는 기본 계정이 존재함  
솔루션을 설치하거나 테이블을 생성할 때 관련 계정이 자동으로 생성되는 경우가 많음  

세션관리  
사용자와 컴퓨터 또는 두 컴퓨터 간의 활성화된 접속을 의미함  

세션을 적절히 유지하기 위한 보안 사항  
세션 하이재킹 또는 네트워크 패킷 스니핑에 대응하기 위한 암호화  
세션에 대한 지속적인 인증 (Continuous Authentication)  
인증 절차를 거쳐 시스템에 접근하는 데 성공했다면 얼마 후 같은 아이디로 시스템에 접근하는 사람이 인증에 성공한 처음의 그 사람인가라는 의문에 대한 해답을 찾기 위한 방책  

Administrators  
대표적인 관리자 그룹으로 우니도우 NT 시스템의 모든 권한을 가지고 있음  
사용자 계정을 만들거나 없앨 수 있으며, 디렉토리와 프린터를 공유하는 명령을 내릴 수 있음  
사용할 수 있는 자원에 대한 권한을 설정할 수 있음  

Users  
대부분의 사용자가 기본으로 속하는 그룹  
사용자는 네트워크를 통해 서버나 다른 도메인 구성에 로그인 할수 있음  
관리 계정에 비해 한정된 권한을 가지고 있음  

Guest  
윈도우 NT서버에서 Users 그룹과 같은 권한을 가짐  
두 그룹 모두 네트워크를 통해서 서버에 로그인 할 수 있음  
서버로의 로컬 로그인은 금지됨  

접근통제와 권한 관리  

접근통제(Access Control)  
주체가 객체에 접근을 요구했을 때 이 요구를 수락 할지를 결정하는 행위  
적절한 권한을 가진 인가자 만이 특정 시스템이나 정보에 접근할 수 있도록 통제하는 것  
접근 제어라고도 함  

TCPWrapper 를 통한 접근통제  
시스템에 대한 접근통제정책 : 기본적으로 IP를 통해 수행함  
유닉스의 Telnet, SSH, FTP 등 : TCPWrapper를 통해 접근통제 가능  

inetd 데몬 (Internet services daemon)  
Super-server Daemon으로 클라이언트로 부터 Inetd가 관리하고 있는 Telnet 이나 SSH, FTP 등에 대한 연결 요청 받음  
-> 해당 데몬을 활성화 시켜 실제 서비스를 하는 데몬과 클라이언트의 요청을 연결하는 역할  

유닉스 권한 관리  
유닉스는 파일 및 디렉토리에 대한 권한 설정 방법이 모두 같음  

윈도우 권한 관리  
윈도우NT 4.0 이후부터는 NTFS(New Technology File System)를 기본 파일 시스템으로 사용함  
모든권한 : 디렉토리에 대한 접근 권한과 소유권을 변경할 수 있으며, 하위에 있는 디렉토리와 파일을 삭제할 수 잇음  
수정 : 디렉토리를 삭제할 수 있음 읽기 및 실행과 쓰기 권한이 주어진 것과 같음  
읽기 및 실행 : 읽기를 수행할 수 있으며, 디렉토리나 파일을 옮길수 있음  
디렉토리 내용보기: 디렉토리 내의 파일이나 디렉토리의 이름을 볼 수 있음  
읽기 : 디렉토리의 내용을 읽기만 할 수 있음  
쓰기 : 해당 디렉토리에 하위 디렉토리와 파일을 생성할 수 있으며, 소유권이나 접근 권한의 설정 내용을 확인할 수 있음  

윈도우에서 디렉토리 및 파일에 대해 설정되는 접근 권한의 규칙  
1. NTFS 접근 권한은 누적  
2. 파일에 대한 접근 권한이 디렉토리에 대한 접근 권한보다 우선  
3. '허용'보다 '거부'가 우선  
※윈도우에서는 파일 및 디렉토리에 대한 권한을 cacls 명령으로도 확인이 가능함  

질의문 Query 에 대한 권한 관리  

DDL (Data Definition Language)  
데이터의 구조를 정의하는 질의문으로, 데이터베이스를 처음 생성하고 개발할 때 주로 사용하고 운영 중에는 거의 사용하지 않음  
CREATE : 데이터베이스 객체를 생성함  
DROP : 데이터베이스 객체를 삭제함  
ALTER : 존재하는 기존 데이터베이스 객체를 다시 정의함  

DML (Data Manipulation Language)  
데이터베이스의 운영 및 사용과 관련해 가장 많이 사용하는 질의문으로, 데이터의 검색과 수정 등을 처리함  
SELECT : 사용자가 테이블이나 뷰의 내용을 읽고 선택  
INSERT : 데이터베이스 객체에 데이터를 입력함  
UPDATE : 기존 데이터베이스 객체에 있는 데이터를 수정함  
DELETE : 데이터베이스 객체에 있는 데이터를 삭제함  

DCL (Data Control Language)  
권한 관리를 위한 질의문  
GRANT : 데이터베이스 객체에 권한을 부여함  
DENY : 사용자에게 해당 권한을 금지함  
REVOKE : 이미 부여된 데이터베이스 객체의 권한을 취소함  

뷰(view)  
각 사용자에 대해 참조 테이블의 각 열에 대한 권한을 설정하는 것이 매우 번거롭고 관리가 어려워 만든 가상 테이블  

로그 및 취약점 관리  

AAA  
시스템의 사용자가 로그인하여 명령을 내리는 과정에 대한 시스템의 동작을 다음과 같이 구분함  

Authentication (인증)  
자신의 신원을 시스템이ㅔ 증명하는 과정  
가장 일반적인 경우가 아이디와 패스워드를 입력하는 과정  
아이디가 신원ㅇ르 나타내고 패스워드가 정상이면 인증이 됨  

Authorization (인가)  
올바른 패스워드를 입력해 시스템에 로그인이 허락된 사용자라고 판명되어 로그인 되는 과정  

Accounting  
접근한 객체나 파일에 대한 기록  
추적을 위한 로그의 충실도를 책임 추적성(Accountability) 이라 함

로그(Log)  

로그 대상  
AAA의 정보가 로그가 수행되는 대상이며 어떤 정보를 로그로 남길지 이 AAA개념에 따라 판단함  

감사추적(Audit Trail)  
Accounting 하여 남긴 로그 정보를 통한 추적 자체를 말함  

윈도우  
이벤트(Event)라고 부르는 중앙 집중화된 형태로 로그를 수집 저장함  

이벤트 뷰어  
로그 열람 기능을 제공함  
운영체제 수준에서 남기는 거의 모든 로그를 이 기능을 통해 볼수 있음  

데이터베이스 로그   
모든 접근 및 실행 SQL 문에 대해 로그를 남길 수 있음  
로그를 활성화 시키면 CPU 점유율이 30% 가량 상승하는 시스템 자원의 문제 발생  

취약점 관리  

패치(Patch)  
일반적으로 이미 발표된 소프트웨어 제품에서 발견된 사소한 기능 개선 또는 버그나 오류 등을 수정하기 위해 개발자가 내놓는 업데이트 프로그램  

응용 프로그램의 보안 설정  
응용 프로그램의 잘못된 설정이 공격자가 운영체제에 침투하는 경로를 제공하는 경우가 많음  
운영체제뿐만 아니라 응용 프로그램에 대한 보안 설정도 매우 중요함  
